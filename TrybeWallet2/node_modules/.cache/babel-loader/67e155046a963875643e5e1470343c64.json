{"ast":null,"code":"import _defineProperty from\"/home/clair/Documentos/trybe/trybe-portifolio/TrybeWallet/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/clair/Documentos/trybe/trybe-portifolio/TrybeWallet/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/clair/Documentos/trybe/trybe-portifolio/TrybeWallet/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/clair/Documentos/trybe/trybe-portifolio/TrybeWallet/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/clair/Documentos/trybe/trybe-portifolio/TrybeWallet/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import{saveInputs}from'../actions';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.onChangeInput=function(_ref){var target=_ref.target;// pegar o value dos inputs de forma dinamica\nvar name=target.name,value=target.value;_this.setState(_defineProperty({},name,value));};_this.checkInputs=function(){var _this$state=_this.state,email=_this$state.email,senha=_this$state.senha;var numCaractMin=6;var reg=/^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;// https://pt.stackoverflow.com/questions/1386/express%C3%A3o-regular-para-valida%C3%A7%C3%A3o-de-e-mail\nvar valido=reg.test(email);return senha.length>=numCaractMin&&valido;// returna true ou false\n};_this.handleSubmit=function(event){event.preventDefault();var addInputs=_this.props.addInputs;addInputs(_this.state);_this.setState({redirect:true});};_this.state={email:'',senha:'',statusSendButton:true,redirect:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,senha=_this$state2.senha,redirect=_this$state2.redirect;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},redirect&&/*#__PURE__*/React.createElement(Redirect,{to:\"/carteira\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email:\",' ',/*#__PURE__*/React.createElement(\"input\",{id:\"email\",type:\"email\",name:\"email\",value:email,onChange:this.onChangeInput,\"data-testid\":\"email-input\"})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"senha\"},\"Senha:\",' ',/*#__PURE__*/React.createElement(\"input\",{id:\"senha\",type:\"password\",name:\"senha\",value:senha,onChange:this.onChangeInput,\"data-testid\":\"password-input\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:!this.checkInputs()},\"Entrar\"));}}]);return Login;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{// para ler estados\naddInputs:function addInputs(input){return dispatch(saveInputs(input));}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"names":["React","connect","Redirect","saveInputs","Login","onChangeInput","target","name","value","setState","checkInputs","state","email","senha","numCaractMin","reg","valido","test","length","handleSubmit","event","preventDefault","addInputs","props","redirect","statusSendButton","Component","mapDispatchToProps","dispatch","input"],"sources":["/home/clair/Documentos/trybe/trybe-portifolio/TrybeWallet/src/pages/Login.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { saveInputs } from '../actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      senha: '',\n      statusSendButton: true,\n      redirect: false,\n    };\n  }\n\n  onChangeInput = ({ target }) => { // pegar o value dos inputs de forma dinamica\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n\n  // Botao comeÃ§a desativado e precisa ativar somente quando\n  // estiver com email no formato valido e senha de no min 6 caracteres\n  checkInputs = () => {\n    const { email, senha } = this.state;\n    const numCaractMin = 6;\n    const reg = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/; // https://pt.stackoverflow.com/questions/1386/express%C3%A3o-regular-para-valida%C3%A7%C3%A3o-de-e-mail\n    const valido = reg.test(email);\n    return senha.length >= numCaractMin && valido; // returna true ou false\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { addInputs } = this.props;\n    addInputs(this.state);\n    this.setState({ redirect: true });\n  }\n\n  render() {\n    const { email,\n      senha,\n      redirect,\n    } = this.state;\n    return (\n      <form onSubmit={ this.handleSubmit }>\n        {redirect && <Redirect to=\"/carteira\" />}\n        <label htmlFor=\"email\">\n          Email:\n          {' '}\n          <input\n            id=\"email\"\n            type=\"email\"\n            name=\"email\"\n            value={ email }\n            onChange={ this.onChangeInput }\n            data-testid=\"email-input\"\n          />\n        </label>\n        <label htmlFor=\"senha\">\n          Senha:\n          {' '}\n          <input\n            id=\"senha\"\n            type=\"password\"\n            name=\"senha\"\n            value={ senha }\n            onChange={ this.onChangeInput }\n            data-testid=\"password-input\"\n          />\n        </label>\n        <button\n          type=\"submit\"\n          disabled={ !this.checkInputs() }\n        >\n          Entrar\n        </button>\n      </form>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({ // para ler estados\n  addInputs: (input) => dispatch(saveInputs(input)),\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n\nLogin.propTypes = {\n  addInputs: PropTypes.func.isRequired,\n};\n"],"mappings":"6rBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,UAAT,KAA2B,YAA3B,C,GAEMC,M,0GACJ,gBAAc,uCACZ,wBADY,MAUdC,aAVc,CAUE,cAAgB,IAAbC,OAAa,MAAbA,MAAa,CAAE;AAChC,GAAQC,KAAR,CAAwBD,MAAxB,CAAQC,IAAR,CAAcC,KAAd,CAAwBF,MAAxB,CAAcE,KAAd,CACA,MAAKC,QAAL,oBAAiBF,IAAjB,CAAwBC,KAAxB,GACD,CAba,OAiBdE,WAjBc,CAiBA,UAAM,CAClB,gBAAyB,MAAKC,KAA9B,CAAQC,KAAR,aAAQA,KAAR,CAAeC,KAAf,aAAeA,KAAf,CACA,GAAMC,aAAY,CAAG,CAArB,CACA,GAAMC,IAAG,CAAG,gDAAZ,CAA8D;AAC9D,GAAMC,OAAM,CAAGD,GAAG,CAACE,IAAJ,CAASL,KAAT,CAAf,CACA,MAAOC,MAAK,CAACK,MAAN,EAAgBJ,YAAhB,EAAgCE,MAAvC,CAA+C;AAChD,CAvBa,OAyBdG,YAzBc,CAyBC,SAACC,KAAD,CAAW,CACxBA,KAAK,CAACC,cAAN,GACA,GAAQC,UAAR,CAAsB,MAAKC,KAA3B,CAAQD,SAAR,CACAA,SAAS,CAAC,MAAKX,KAAN,CAAT,CACA,MAAKF,QAAL,CAAc,CAAEe,QAAQ,CAAE,IAAZ,CAAd,EACD,CA9Ba,CAEZ,MAAKb,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,KAAK,CAAE,EAFI,CAGXY,gBAAgB,CAAE,IAHP,CAIXD,QAAQ,CAAE,KAJC,CAAb,CAFY,aAQb,C,wCAwBD,iBAAS,CACP,iBAGI,KAAKb,KAHT,CAAQC,KAAR,cAAQA,KAAR,CACEC,KADF,cACEA,KADF,CAEEW,QAFF,cAEEA,QAFF,CAIA,mBACE,4BAAM,QAAQ,CAAG,KAAKL,YAAtB,EACGK,QAAQ,eAAI,oBAAC,QAAD,EAAU,EAAE,CAAC,WAAb,EADf,cAEE,6BAAO,OAAO,CAAC,OAAf,WAEG,GAFH,cAGE,6BACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAGZ,KAJV,CAKE,QAAQ,CAAG,KAAKP,aALlB,CAME,cAAY,aANd,EAHF,CAFF,cAcE,6BAAO,OAAO,CAAC,OAAf,WAEG,GAFH,cAGE,6BACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAGQ,KAJV,CAKE,QAAQ,CAAG,KAAKR,aALlB,CAME,cAAY,gBANd,EAHF,CAdF,cA0BE,8BACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAG,CAAC,KAAKK,WAAL,EAFd,WA1BF,CADF,CAmCD,C,mBAzEiBV,KAAK,CAAC0B,S,EA4E1B,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,QAAD,QAAe,CAAE;AAC1CN,SAAS,CAAE,mBAACO,KAAD,QAAWD,SAAQ,CAACzB,UAAU,CAAC0B,KAAD,CAAX,CAAnB,EAD6B,CAAf,EAA3B,CAIA,cAAe5B,QAAO,CAAC,IAAD,CAAO0B,kBAAP,CAAP,CAAkCvB,KAAlC,CAAf"},"metadata":{},"sourceType":"module"}