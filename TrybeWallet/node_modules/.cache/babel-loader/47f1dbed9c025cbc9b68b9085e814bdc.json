{"ast":null,"code":"var _jsxFileName = \"/home/clair/Documentos/trybe/Projetos/sd-021-b-project-trybewallet/src/pages/Form.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { saveExpenses } from '../actions';\n\nclass Form extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      // pegar o value dos inputs de forma dinamica\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        addExpenses,\n        expenses\n      } = this.props;\n      const {\n        id\n      } = this.state;\n      this.setState({\n        id: expenses.length === 0 ? 0 : id + 1\n      });\n      await fetch('https://economia.awesomeapi.com.br/json/all').then(response => response.json()).then(currencies => addExpenses(this.state, currencies));\n      console.log(this.estadoInicial);\n      this.setState({ ...this.estadoInicial,\n        id\n      });\n    };\n\n    this.state = {\n      id: 0,\n      value: '',\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: 'Alimentação',\n      exchangeRates: {}\n    };\n  }\n\n  componentDidMount() {\n    this.estadoInicial = { ...this.state\n    };\n  }\n\n  render() {\n    const {\n      value,\n      description,\n      currency,\n      method,\n      tag\n    } = this.state;\n    const {\n      currencies\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"value-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Valor da despesa:\", ' ', /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"value-input\",\n      id: \"value-input\",\n      name: \"value\",\n      type: \"number\",\n      value: value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Descri\\xE7\\xE3o:\", ' ', /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"description-input\",\n      id: \"description-input\",\n      type: \"textArea\",\n      name: \"description\",\n      value: description,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"moeda\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, \"Moeda:\", ' ', /*#__PURE__*/React.createElement(\"select\", {\n      name: \"currency\",\n      id: \"moeda\",\n      value: currency,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, currencies.map(coins => /*#__PURE__*/React.createElement(\"option\", {\n      key: coins,\n      value: coins,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, coins)))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"method-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, \"M\\xE9todo de pagamento:\", ' ', /*#__PURE__*/React.createElement(\"select\", {\n      \"data-testid\": \"method-input\",\n      name: \"method\",\n      id: \"method-input\",\n      value: method,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Dinheiro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, \"Dinheiro\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Cart\\xE3o de cr\\xE9dito\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, \"Cart\\xE3o de cr\\xE9dito\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Cart\\xE3o de d\\xE9bito\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"Cart\\xE3o de d\\xE9bito\"))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tag-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, \"M\\xE9todo de pagamento:\", ' ', /*#__PURE__*/React.createElement(\"select\", {\n      \"data-testid\": \"tag-input\",\n      name: \"tag\",\n      id: \"tag-input\",\n      value: tag,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Alimenta\\xE7\\xE3o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, \"Alimenta\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Lazer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, \"Lazer\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Trabalho\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, \"Trabalho\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Transporte\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, \"Transporte\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Sa\\xFAde\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"Sa\\xFAde\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.addDespesa,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, \"Adicionar despesa\"));\n  }\n\n}\n\nconst mapStateToProps = globalState => ({\n  currencies: globalState.wallet.currencies,\n  expenses: globalState.wallet.expenses\n});\n\nconst mapDispatchToProps = dispatch => ({\n  // para ler estados\n  addExpenses: (input, exchangeRates) => dispatch(saveExpenses(input, exchangeRates))\n});\n\nForm.propTypes = {\n  currencies: PropTypes.arrayOf.isRequired,\n  expenses: PropTypes.arrayOf.isRequired,\n  addExpenses: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);","map":{"version":3,"names":["React","connect","PropTypes","saveExpenses","Form","Component","constructor","handleChange","target","name","value","setState","handleSubmit","event","preventDefault","addExpenses","expenses","props","id","state","length","fetch","then","response","json","currencies","console","log","estadoInicial","description","currency","method","tag","exchangeRates","componentDidMount","render","map","coins","addDespesa","mapStateToProps","globalState","wallet","mapDispatchToProps","dispatch","input","propTypes","arrayOf","isRequired","func"],"sources":["/home/clair/Documentos/trybe/Projetos/sd-021-b-project-trybewallet/src/pages/Form.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { saveExpenses } from '../actions';\n\nclass Form extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      id: 0,\n      value: '',\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: 'Alimentação',\n      exchangeRates: {},\n    };\n  }\n\n  componentDidMount() {\n    this.estadoInicial = { ...this.state };\n  }\n\n  handleChange = ({ target }) => { // pegar o value dos inputs de forma dinamica\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    const { addExpenses, expenses } = this.props;\n    const { id } = this.state;\n    this.setState({\n      id: expenses.length === 0 ? 0 : id + 1\n    });\n    await fetch('https://economia.awesomeapi.com.br/json/all')\n      .then((response) => response.json())\n      .then((currencies) => addExpenses(this.state, currencies));\n    console.log(this.estadoInicial);\n    this.setState({ ...this.estadoInicial, id });\n  }\n\n  render() {\n    const { value, description, currency, method, tag } = this.state;\n    const { currencies } = this.props;\n    return (\n      <form onSubmit={ this.handleSubmit }>\n        <label htmlFor=\"value-input\">\n          Valor da despesa:\n          {' '}\n          <input\n            data-testid=\"value-input\"\n            id=\"value-input\"\n            name=\"value\"\n            type=\"number\"\n            value={ value }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"description-input\">\n          Descrição:\n          {' '}\n          <input\n            data-testid=\"description-input\"\n            id=\"description-input\"\n            type=\"textArea\"\n            name=\"description\"\n            value={ description }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"moeda\">\n          Moeda:\n          {' '}\n          <select\n            name=\"currency\"\n            id=\"moeda\"\n            value={ currency }\n            onChange={ this.handleChange }\n          >\n            {currencies.map((coins) => (\n              <option key={ coins } value={ coins }>{ coins }</option>))}\n          </select>\n        </label>\n        <label htmlFor=\"method-input\">\n          Método de pagamento:\n          {' '}\n          <select\n            data-testid=\"method-input\"\n            name=\"method\"\n            id=\"method-input\"\n            value={ method }\n            onChange={ this.handleChange }\n          >\n            <option value=\"Dinheiro\">Dinheiro</option>\n            <option value=\"Cartão de crédito\">Cartão de crédito</option>\n            <option value=\"Cartão de débito\">Cartão de débito</option>\n          </select>\n        </label>\n        <label htmlFor=\"tag-input\">\n          Método de pagamento:\n          {' '}\n          <select\n            data-testid=\"tag-input\"\n            name=\"tag\"\n            id=\"tag-input\"\n            value={ tag }\n            onChange={ this.handleChange }\n          >\n            <option value=\"Alimentação\">Alimentação</option>\n            <option value=\"Lazer\">Lazer</option>\n            <option value=\"Trabalho\">Trabalho</option>\n            <option value=\"Transporte\">Transporte</option>\n            <option value=\"Saúde\">Saúde</option>\n          </select>\n        </label>\n        <button\n          type=\"submit\"\n          onClick={ this.addDespesa }\n        >\n          Adicionar despesa\n        </button>\n      </form>\n    );\n  }\n}\nconst mapStateToProps = (globalState) => ({\n  currencies: globalState.wallet.currencies,\n  expenses: globalState.wallet.expenses,\n});\nconst mapDispatchToProps = (dispatch) => ({ // para ler estados\n  addExpenses: (input, exchangeRates) => dispatch(saveExpenses(input, exchangeRates)),\n});\n\nForm.propTypes = {\n  currencies: PropTypes.arrayOf.isRequired,\n  expenses: PropTypes.arrayOf.isRequired,\n  addExpenses: PropTypes.func.isRequired,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}