(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{38:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(18),i=(a(38),a(8)),u=a(9),s=a(29),d=a(30),m=a(3),p="SAVE_INPUTS",h="SAVE_CURRENCIES",b="SAVE_EXPENSES";var E={email:""};var v=a(33),f={currencies:[],expenses:[]};var g=Object(u.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return t.type===p?Object(m.a)(Object(m.a)({},e),t.payload):e},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(m.a)(Object(m.a)({},e),{},{currencies:t.payload});case b:return Object(m.a)(Object(m.a)({},e),{},{expenses:[].concat(Object(v.a)(e.expenses),[t.payload])});default:return e}}}),j=g,y=Object(u.createStore)(j,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(d.a))),O=a(2),x=a(15),w=a(10),C=a(11),S=a(12),k=a(13),D=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).onChangeInput=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(x.a)({},n,r))},e.checkInputs=function(){var t=e.state,a=t.email,n=t.senha,r=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(a);return n.length>=6&&r},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.addInputs)(e.state),e.setState({redirect:!0})},e.state={email:"",senha:"",statusSendButton:!0,redirect:!1},e}return Object(C.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.senha,n=e.redirect;return r.a.createElement("form",{onSubmit:this.handleSubmit},n&&r.a.createElement(O.a,{to:"/carteira"}),r.a.createElement("label",{htmlFor:"email"},"Email:"," ",r.a.createElement("input",{id:"email",type:"email",name:"email",value:t,onChange:this.onChangeInput,"data-testid":"email-input"})),r.a.createElement("label",{htmlFor:"senha"},"Senha:"," ",r.a.createElement("input",{id:"senha",type:"password",name:"senha",value:a,onChange:this.onChangeInput,"data-testid":"password-input"})),r.a.createElement("button",{type:"submit",disabled:!this.checkInputs()},"Entrar"))}}]),a}(r.a.Component),F=Object(i.b)(null,(function(e){return{addInputs:function(t){return e(function(e){return{type:p,payload:e}}(t))}}}))(D),I=a(32),T=a(24),R=a.n(T),M=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(x.a)({},n,r))},e.handleSubmit=function(){var t=Object(I.a)(R.a.mark((function t(a){var n,r,l,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.props,r=n.addExpenses,l=n.expenses,c=e.state.id,e.setState({id:0===l.length?0:c+1}),t.next=6,fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return r(e.state,t)}));case 6:e.setState(Object(m.a)(Object(m.a)({},e.estadoInicial),{},{id:c}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.estadoInicial=Object(m.a)({},this.state)}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.description,n=e.currency,l=e.method,c=e.tag,o=this.props.currencies;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"value-input"},"Valor da despesa:"," ",r.a.createElement("input",{"data-testid":"value-input",id:"value-input",name:"value",type:"number",value:t,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description-input"},"Descri\xe7\xe3o:"," ",r.a.createElement("input",{"data-testid":"description-input",id:"description-input",type:"textArea",name:"description",value:a,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"moeda"},"Moeda:"," ",r.a.createElement("select",{name:"currency",id:"moeda",value:n,onChange:this.handleChange},o.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"method-input"},"M\xe9todo de pagamento:"," ",r.a.createElement("select",{"data-testid":"method-input",name:"method",id:"method-input",value:l,onChange:this.handleChange},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag-input"},"M\xe9todo de pagamento:"," ",r.a.createElement("select",{"data-testid":"tag-input",name:"tag",id:"tag-input",value:c,onChange:this.handleChange},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("button",{type:"submit",onClick:this.addDespesa},"Adicionar despesa"))}}]),a}(r.a.Component),A=Object(i.b)((function(e){return{currencies:e.wallet.currencies,expenses:e.wallet.expenses}}),(function(e){return{addExpenses:function(t,a){return e(function(e,t){return{type:b,payload:Object(m.a)(Object(m.a)({},e),{},{exchangeRates:t})}}(t,a))}}}))(M),V=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,parseFloat(e.value).toFixed(2)),r.a.createElement("td",null,e.exchangeRates[e.currency].name),r.a.createElement("td",null,parseFloat(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,parseFloat(e.value*e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button"},"Editar"),r.a.createElement("button",{type:"button"},"Editar")))}))))}}]),a}(r.a.Component),W=Object(i.b)((function(e){return{expenses:e.wallet.expenses}}))(V),B=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).calcDespesaTotal=function(){return e.props.expenses.map((function(e){var t=e.currency;return e.value*e.exchangeRates[t].ask})).reduce((function(e,t){return e+t}),0).toFixed(2)},e.state={currencies:"BRL"},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:h,payload:e}}(Object.keys(t).filter((function(e){return"USDT"!==e}))))}))}},{key:"render",value:function(){var e=this.props.email,t=this.state.currencies;return r.a.createElement("header",null,r.a.createElement("h1",null,"TrybeWallet"),r.a.createElement("h3",{"data-testid":"email-field"},e),r.a.createElement("h3",{"data-testid":"total-field"},this.calcDespesaTotal()),r.a.createElement("h3",{"data-testid":"header-currency-field"}," ",t," "),r.a.createElement(A,null),r.a.createElement(W,null))}}]),a}(r.a.Component),U=Object(i.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(B);var z=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, TrybeWallet!"),r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/",component:F}),r.a.createElement(O.b,{exact:!0,path:"/carteira",component:U})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{store:y},r.a.createElement(o.a,null,r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.e16b0706.chunk.js.map